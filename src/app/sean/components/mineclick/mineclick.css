/* load the minecraft font */
@font-face {
  font-family: 'Minecraft';
  src: url('/sean/media/minecraft.woff2') format('woff2'), url('/sean/media/minecraft.woff') format('woff'), url('/sean/media/minecraft.ttf') format('truetype'), url('/sean/media/minecraft.otf') format('opentype');
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}

/* main container for the whole game */
.mineclick-container {
  position: relative;
  width: 100%;
  min-height: calc(100vh - 64px);
  overflow-x: hidden;
  font-family: 'Minecraft', 'Courier New', monospace;
  margin-top: 64px;
}

/* background image that fills the screen */
.background {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: url('/sean/media/bg.png') center/cover no-repeat;
  z-index: -1;
}

/* header with logo and money display */
.game-header {
  position: relative;
  z-index: 10;
  display: grid;
  grid-template-columns: 1fr auto 1fr;
  align-items: center;
  padding: 5px 20px;
  width: 100%;
  max-width: 1400px;
  margin: 0 auto;
  box-sizing: border-box;
}

/* game logo on the left */
.game-logo {
  grid-column: 1;
  justify-self: start;
  height: 60px;
  width: auto;
  filter: drop-shadow(2px 2px 4px rgba(0, 0, 0, 0.3));
}

/* money display card in the center */
.stats-panel {
  grid-column: 2;
  justify-self: center;
  background: rgba(51, 54, 61, 0.64);
  backdrop-filter: blur(20px);
  border-radius: 10px;
  padding: 6px 14px;
  display: flex;
  flex-direction: column;
  gap: 4px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15);
}

/* each stat line (money or money per second) */
.stat-item {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  color: white;
  font-size: 1rem;
  font-weight: bold;
}

/* make the per second stat a bit faded */
.stat-item-sec,
.stat-item-sec .stat-icon {
  opacity: 0.7;
}

/* small white square icon next to numbers */
.stat-icon {
  width: 10px;
  height: 10px;
  background: white;
  flex-shrink: 0;
  align-self: center;
  margin-bottom: 0.5px;
}

/* main game area with 3 columns */
.game-main {
  position: relative;
  z-index: 10;
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  gap: 20px;
  padding: 20px;
  max-width: 1400px;
  margin: 0 auto;
  box-sizing: border-box;
}

/* column for blocks (left and middle) */
.resource-column {
  display: flex;
  flex-direction: column;
  gap: 20px;
}

/* card for each block type */
.resource-panel {
  background: rgba(51, 54, 61, 0.64);
  backdrop-filter: blur(20px);
  border-radius: 15px;
  padding: 20px;
  display: grid;
  grid-template-columns: auto 1fr auto;
  grid-template-rows: auto auto;
  gap: 20px;
  align-items: center;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
  position: relative;
}

/* grid layout for block card */
.resource-panel > .resource-icon-wrapper { grid-column: 1; grid-row: 1; }
.resource-panel > .resource-info { grid-column: 2; grid-row: 1; }
.resource-panel > .resource-tool-wrapper { grid-column: 3; grid-row: 1; }
.resource-panel > .buy-button { grid-column: 1 / -1; grid-row: 2; }
.resource-panel.locked { opacity: 0.5; pointer-events: none; }

/* wrapper for block icon and manager tool */
.resource-icon-wrapper,
.resource-tool-wrapper {
  flex: 0 0 auto;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  opacity: 1;
}

/* the block image you click */
.resource-icon {
  width: 60px;
  height: 60px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 5px;
  transition: transform 0.1s;
  overflow: hidden;
}

.resource-icon.clickable { cursor: pointer; }
.resource-icon.clickable:hover { transform: scale(1.05); }
.resource-icon.clickable:active { transform: scale(0.98); }
.resource-icon img { width: 60px; height: 60px; object-fit: cover; border-radius: 5px; }

/* block name and production rate info */
.resource-info {
  flex: 1 1 auto;
  display: flex;
  flex-direction: column;
  gap: 10px;
  min-width: 0;
  justify-content: center;
}

.resource-name {
  color: white;
  font-size: 0.95rem;
  font-weight: bold;
  white-space: nowrap;
}

.production-rate {
  display: flex;
  align-items: center;
  gap: 0.4rem;
  color: white;
  font-size: 0.85rem;
  opacity: 0.7;
}

.rate-icon {
  width: 12px;
  height: 12px;
  background: white;
  flex-shrink: 0;
  opacity: 0.7;
}

/* manager tool button */
.resource-tool {
  position: relative;
  width: 60px;
  height: 60px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(156, 157, 160, 0.4);
  border-radius: 5px;
  padding: 4px;
  cursor: pointer;
  transition: transform 0.1s, opacity 0.2s, filter 0.2s, box-shadow 0.2s;
  opacity: 0.6;
  border: 1px solid rgba(156, 157, 160, 0.2);
  z-index: 10;
}

/* rising block animation when manager produces money */
.block-rise {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 40px;
  height: 40px;
  margin: -20px 0 0 -20px;
  background-size: cover;
  background-position: center;
  animation: riseFade 1.3s ease-out forwards;
  pointer-events: none;
  z-index: 1;
}

/* animation that makes blocks rise and fade out */
@keyframes riseFade {
  0% { transform: translateY(0) scale(1); opacity: 1; }
  100% { transform: translateY(-120px) scale(0.9); opacity: 0; }
}

/* manager tool states */
.resource-tool.locked { opacity: 0.3; cursor: not-allowed; filter: grayscale(100%); }
.resource-tool.unaffordable { opacity: 0.3; filter: grayscale(80%) brightness(0.5); cursor: not-allowed; }
.resource-tool.affordable { opacity: 1; filter: brightness(1.1); border: 2px solid #55AC37; box-shadow: 0 0 4px rgba(85, 172, 55, 0.2); }
.resource-tool.manager-purchased { opacity: 1; }
.resource-tool.manager-enabled { opacity: 1; filter: brightness(1.2); }
.resource-tool:hover:not(.locked):not(.unaffordable) { transform: scale(1.06); }
.resource-tool.affordable:hover { box-shadow: 0 0 4px rgba(85, 172, 55, 0.25); filter: brightness(1.08); }
.resource-tool:active:not(.locked):not(.unaffordable) { transform: scale(0.97); }
.resource-tool img { width: 85%; height: 85%; object-fit: contain; position: relative; z-index: 2; }

/* green buy buttons */
.buy-button,
.upgrade-button {
  width: 100%;
  padding: 12px;
  background: #55AC37;
  color: white;
  border: none;
  border-bottom: 3px solid #408D26;
  border-radius: 4px;
  font-size: 0.9rem;
  font-weight: bold;
  cursor: pointer;
  text-transform: none;
  transition: background-color 0.2s, transform 0.1s;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15);
  letter-spacing: 0.5px;
}

.upgrade-button {
  flex-shrink: 0;
  padding: 12px 20px;
  width: auto;
  text-transform: uppercase;
  white-space: nowrap;
}

.buy-button:hover:not(.disabled),
.upgrade-button:hover:not(.disabled) {
  background: #4a9a2f;
  transform: translateY(-0.5px);
}

.buy-button:active:not(.disabled),
.upgrade-button:active:not(.disabled) {
  transform: translateY(0);
  background: #408D26;
}

/* disabled gray buttons */
.buy-button.disabled,
.upgrade-button.disabled {
  background: #6b7280;
  border-bottom: 3px solid #4b5563;
  cursor: not-allowed;
  opacity: 0.6;
}

.buy-button.disabled:hover,
.upgrade-button.disabled:hover {
  background: #6b7280;
  border-bottom: 3px solid #4b5563;
  transform: none;
}

/* upgrades column on the right */
.upgrade-column {
  display: flex;
  flex-direction: column;
  gap: 20px;
}

/* upgrade card */
.upgrade-panel {
  background: rgba(51, 54, 61, 0.64);
  backdrop-filter: blur(20px);
  border-radius: 15px;
  padding: 20px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
}

.upgrade-content {
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: space-between;
  gap: 20px;
}

.upgrade-text {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.upgrade-name {
  color: white;
  font-size: 1rem;
  font-weight: bold;
  text-align: left;
}

.upgrade-description {
  color: rgba(255, 255, 255, 0.6);
  font-size: 0.85rem;
  text-align: left;
}

/* responsive design for smaller screens */
@media (max-width: 1200px) {
  .game-main { grid-template-columns: 1fr 1fr; }
  .upgrade-column { grid-column: 1 / -1; }
}

@media (max-width: 768px) {
  .game-main { grid-template-columns: 1fr; }
  .game-header { grid-template-columns: 1fr; gap: 1rem; }
  .game-logo { grid-column: 1; justify-self: center; }
  .stats-panel { grid-column: 1; justify-self: center; }
}
